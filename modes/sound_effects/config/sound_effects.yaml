#config_version=5
#issues most sound effects and all music loops.

mode:
  start_events: mode_attract_started #game_started #, non-game mode?
  priority: 175 # range 100-1M
  game_mode: false


sound_player:
  #these instructions each play once early in game
  logicblock_sound_drop_target_instructions_complete: v_complete_drop_targets_to_qualify_mystery_mode
  logicblock_sound_revealed_band_instructions_complete: v_hit_blinking_band_enable_mystery_award
  logicblock_sound_ready_for_mystery_instructions_complete: v_shoot_orbit_hole_for_mystery_award
  logicblock_sound_lane_light_instructions_complete: v_completed_lane_lights_award_bs
# logicblock_sound_tracking_base_pops_complete: v_hit_all_pops_to_summon_goddess
  logicblock_sound_ready_locks_by_scoring_instructions_complete: v_ready_locks_by_scoring
  logicblock_sound_outlane_ballsave_instructions_complete: v_shoot_ramp_twice_outlane_bs

  mode_sound_controller_started{player==1 and ball==1}: v_welcome # mode_base_started'====== Args={'queue': <QueuedEvent>, 'player': 1, 'ball': 1,

#  mode_av_server_2k_started: snd_startbutton
  extra_ball_awarded: v_extra_ball_awarded
  player_added: snd_startbutton
  base_right_slingshot_hit: snd_right_main_ss
  base_left_slingshot_hit: snd_left_main_ss
  base_left_inlane_hit: snd_shield
  base_left_outlane_hit: snd_shield
  base_right_inlane_hit: snd_shield
  base_right_outlane_hit: snd_shield
  base_hole_distal_hit: snd_shield
  base_hole_proximal_hit: snd_shield
  base_orbit_spinner_hit: snd_spinner
  base_olympus_spinner_hit: snd_spinner
  base_poseidon_gate: snd_poseidon_mech
  base_olympus_lower_pop_hit: snd_olympus_mech
  base_olympus_left_pop_hit: snd_olympus_mech
  base_olympus_right_pop_hit: snd_olympus_mech
  base_poseidon_pop_hit: snd_poseidon_mech
  base_poseidon_right_slingshot_hit: snd_poseidon_mech
  base_poseidon_left_slingshot_hit: snd_poseidon_mech
  base_left_side_pop_hit: snd_scott_pop
  base_hydra_hit: snd_hydra
  base_ramp_hit: snd_spinner
  base_revealed_slingshot_hit: snd_scott_pop
  left_ramp_hit{not (mode.olympus_ramp_mb.active or mode.poseidon_ramp_mb.active)}: snd_ramp_1  #used for lock flash show and banked ball save
  right_ramphit{not (mode.olympus_ramp_mb.active or mode.poseidon_ramp_mb.active)}: snd_ramp_2 #used for lock flash show and banked ball save
  bonus_orbit_counter_clockwise_hit: snd_orbit #used in bonus counting, for other orbit purposes, see field
  bonus_orbit_clockwise_hit: snd_orbit #used in bonus counting, for other orbit purposes, see field
  ballblock_hit: snd_drop_3 #records hit to the ball block drop target. control of the drop is via bd events in mode scoop.
#  base_scoop_from_pf: #This logs hits only when the scoop receives the ball from the front. Alternatively might be able to code this using delay_switch
  ball_waiting_to_eject_from_scoop: explosionlong
  base_sis_left_arrived_hit: snd_sis #divert_left
  base_sis_right_arrived_hit: snd_sis #divert_right

  base_hestia_summoned: v_goddess_awarded
  base_artemus_summoned: v_goddess_awarded
  base_athena_summoned: v_goddess_awarded
  base_aphrodite_summoned: v_goddess_awarded
  ball_save_bs_default_saving_ball: v_ball_saved
  ball_save_bs_scoop_eject_saving_ball: v_ball_saved

  base_double_left_ramp_hit{not mode.banked_l_bs.active}: v_left_outlane_bs_awarded
  base_double_right_ramp_hit{not mode.banked_r_bs.active}: v_right_outlane_bs_awarded
  bottom_lane_group_hit_complete: v_double_outlane_bs_awarded

  river_a_hit: snd_river
  river_b_hit: snd_river
  river_c_hit: snd_river
  river_d_hit: snd_river
  river_a_bug_hit: snd_river
  river_b_bug_hit: snd_river
  river_c_bug_hit: snd_river
  river_d_bug_hit: snd_river
  mode_hades_bug_game_started: v_hades_has_you
  mode_hades_bug_game_stopped: cmgg2_you_returned_underworld.ogg

  game_start: snd_startbutton
  mode_bonus_started: snd_bonus_riff3
  mode_bonus_stopping:
    snd_bonus_riff3:
      action: stop
      fade_out: 400 ms
  mode_game_stopping: snd_sledge_tail
  mode_hades_bonus_game_stopping: snd_deadmans_tail

#State machine riffer moved to base.  could be spun into its own mode. It needs to reset with each turn over of ball which is Most easily
#achieved by killing and respawning it with base stopping and starting.

# To turn off music can use track player like scott does with mystery mode.
sound_loop_player:
#  relies on sound_loop_sets currently defigned at the bottom of sound config.

  ball_started:
    loops:
      sound_loop_set: riff_shooter_start
      action: play
      timing: now #now #was loop end but that made no sense because bonus music does not come through loop player


  loop_basic_and_minor:
    loops:
      sound_loop_set: riff_basic
      action: play
      timing: loop_end
      events_when_played: make_loop_with_minor
  make_loop_with_minor:
    loops:
      sound_loop_set: riff_minor
      action: play
      timing: loop_end
      events_when_played: loop_basic_and_minor

  loop_basic_and_strings:
    loops:
      sound_loop_set: riff_strings
      action: play
      timing: loop_end
      events_when_played: make_loop_with_strings
  make_loop_with_strings:
    loops:
      sound_loop_set: riff_basic
      action: play
      timing: loop_end
      events_when_played: loop_basic_and_strings

  loop_basic_and_cymbals:
    loops:
      sound_loop_set: riff_cymbals
      action: play
      timing: loop_end
      events_when_played: make_loop_with_cymbals
  make_loop_with_cymbals:
    loops:
      sound_loop_set: riff_basic
      action: play
      timing: loop_end
      events_when_played: loop_basic_and_cymbals

  ball_will_end:
    loops:
      action: stop
#      timing: now
#     fade_out: 200 ms
  mode_hades_bonus_game_started:
    loops:
      sound_loop_set: bonus_intro
      action: play
      timing: now
      events_when_played: loop_deadmans_party_riff
  loop_deadmans_party_riff:
    loops:
      sound_loop_set: bonus_riff
      action: play
      timing: now
  mode_hades_bonus_game_stopping:
    loops:
      action: stop

  key_4_pressed:
    loops:
      sound_loop_set: three_ball_mb
      action: play
      timing: loop_end
  key_5_pressed:
    loops:
      sound_loop_set: ramp_lock_music
      action: play
      timing: loop_end
#      fade_in: 200ms
